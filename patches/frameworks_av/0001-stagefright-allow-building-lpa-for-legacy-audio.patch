From ef34b64d15b62d6b685bd6b421fe18dcc4cf365f Mon Sep 17 00:00:00 2001
From: TheWhisp <daavis.90@gmail.com>
Date: Fri, 27 Dec 2013 01:23:20 +0200
Subject: [PATCH] stagefright: allow building lpa for legacy audio

Change-Id: I4d86b952d20f04d2f033ba428b22439014d86269
---
 media/libstagefright/Android.mk | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/media/libstagefright/Android.mk b/media/libstagefright/Android.mk
index a859e4a..f884dfc 100755
--- a/media/libstagefright/Android.mk
+++ b/media/libstagefright/Android.mk
@@ -95,15 +95,15 @@ LOCAL_SRC_FILES += \
         ExtendedExtractor.cpp             \
         QCUtilityClass.cpp
 
-ifeq ($(TARGET_QCOM_MEDIA_VARIANT),caf)
+ifneq ($(TARGET_QCOM_MEDIA_VARIANT),)
 LOCAL_C_INCLUDES += \
-        $(TOP)/hardware/qcom/media-caf/mm-core/inc
+        $(TOP)/hardware/qcom/media-$(TARGET_QCOM_MEDIA_VARIANT)/mm-core/inc
 else
 LOCAL_C_INCLUDES += \
         $(TOP)/hardware/qcom/media/mm-core/inc
 endif
 
-ifeq ($(TARGET_QCOM_AUDIO_VARIANT),caf)
+ifneq ($(filter caf legacy,$(TARGET_QCOM_AUDIO_VARIANT)),)
     ifeq ($(call is-board-platform-in-list,msm8660 msm7x27a msm7x30),true)
         LOCAL_SRC_FILES += LPAPlayer.cpp
     else
-- 
1.8.3.2

